{"ast":null,"code":"const ADD_TO_CART = 'cart/ADD_TO_CART';\nconst REMOVE_ITEM = 'cart/REMOVE_ITEM';\nconst RESET_CART_LIST = 'cart/RESET_CART_LIST';\nconst INCREASE_COUNT = 'cart/INCREASE_COUNT';\nconst DECREASE_COUNT = 'cart/DECREASE_COUNT';\nconst SET_TOTAL = 'cart/SET_TOTAL';\nconst GET_ITEMS = 'cart/GET_ITEMS';\nexport const addToCart = item => ({\n  type: ADD_TO_CART,\n  payload: item\n});\nexport const removeItem = items => ({\n  type: REMOVE_ITEM,\n  payload: items\n});\nexport const resetCartList = () => ({\n  type: RESET_CART_LIST\n});\nexport const increaseCount = items => ({\n  type: INCREASE_COUNT,\n  payload: items\n});\nexport const decreaseCount = items => ({\n  type: DECREASE_COUNT,\n  payload: items\n});\nexport const setTotal = () => ({\n  type: SET_TOTAL\n});\nexport const getItems = items => ({\n  type: GET_ITEMS,\n  payload: items\n});\nconst initialState = {\n  totalPrice: 0,\n  totalCount: 0,\n  items: []\n};\n\nconst checkCartItems = (items, payload) => {\n  const isAddedToCart = items.find(item => item.id === payload.id);\n\n  const AddedItem = item => item.id === payload.id ? { ...item,\n    count: item.count + 1\n  } : item;\n\n  return isAddedToCart ? items.map(AddedItem) : [...items, payload];\n};\n\nconst updateItems = (state, payload) => {\n  const {\n    items\n  } = state;\n  return payload.isArray ? { ...state,\n    items: [...payload],\n    totalCount: payload.reduce((acc, {\n      count\n    }) => acc + count, 0),\n    totalPrice: payload.reduce((acc, {\n      count,\n      price\n    }) => acc + count * price, 0)\n  } : { ...state,\n    items: checkCartItems(items, payload),\n    totalCount: state.totalCount + 1\n  };\n};\n\nconst cart = (state = initialState, action) => {\n  const {\n    items\n  } = state;\n  const {\n    type,\n    payload\n  } = action;\n\n  switch (type) {\n    case ADD_TO_CART:\n      return updateItems(state, payload);\n\n    case REMOVE_ITEM:\n      return updateItems(state, payload);\n\n    case RESET_CART_LIST:\n      return { ...state,\n        totalPrice: 0,\n        totalCount: 0,\n        items: []\n      };\n\n    case INCREASE_COUNT:\n      return updateItems(state, payload);\n\n    case DECREASE_COUNT:\n      return updateItems(state, payload);\n\n    case GET_ITEMS:\n      return updateItems(state, payload);\n\n    default:\n      return state;\n  }\n};\n\nexport default cart;","map":{"version":3,"sources":["/Users/sonjong-il/Desktop/wecode/12-AIG-frontend/src/modules/cart.js"],"names":["ADD_TO_CART","REMOVE_ITEM","RESET_CART_LIST","INCREASE_COUNT","DECREASE_COUNT","SET_TOTAL","GET_ITEMS","addToCart","item","type","payload","removeItem","items","resetCartList","increaseCount","decreaseCount","setTotal","getItems","initialState","totalPrice","totalCount","checkCartItems","isAddedToCart","find","id","AddedItem","count","map","updateItems","state","isArray","reduce","acc","price","cart","action"],"mappings":"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","sourcesContent":["const ADD_TO_CART = 'cart/ADD_TO_CART';\nconst REMOVE_ITEM = 'cart/REMOVE_ITEM';\nconst RESET_CART_LIST = 'cart/RESET_CART_LIST';\nconst INCREASE_COUNT = 'cart/INCREASE_COUNT';\nconst DECREASE_COUNT = 'cart/DECREASE_COUNT';\nconst SET_TOTAL = 'cart/SET_TOTAL';\nconst GET_ITEMS = 'cart/GET_ITEMS';\n\nexport const addToCart = (item) => ({\n  type: ADD_TO_CART,\n  payload: item,\n});\n\nexport const removeItem = (items) => ({\n  type: REMOVE_ITEM,\n  payload: items,\n});\n\nexport const resetCartList = () => ({\n  type: RESET_CART_LIST,\n});\n\nexport const increaseCount = (items) => ({\n  type: INCREASE_COUNT,\n  payload: items,\n});\n\nexport const decreaseCount = (items) => ({\n  type: DECREASE_COUNT,\n  payload: items,\n});\n\nexport const setTotal = () => ({\n  type: SET_TOTAL,\n});\n\nexport const getItems = (items) => ({\n  type: GET_ITEMS,\n  payload: items,\n});\n\nconst initialState = {\n  totalPrice: 0,\n  totalCount: 0,\n  items: [],\n};\n\nconst checkCartItems = (items, payload) => {\n  const isAddedToCart = items.find((item) => item.id === payload.id);\n  const AddedItem = (item) =>\n    item.id === payload.id ? { ...item, count: item.count + 1 } : item;\n\n  return isAddedToCart ? items.map(AddedItem) : [...items, payload];\n};\n\nconst updateItems = (state, payload) => {\n  const { items } = state;\n  return payload.isArray ? {\n      ...state,\n      items: [...payload],\n      totalCount: payload.reduce((acc, { count }) => acc + count, 0),\n      totalPrice: payload.reduce(\n        (acc, { count, price }) => acc + count * price,\n        0\n      ),\n    }\n    : {\n      ...state,\n      items: checkCartItems(items, payload),\n      totalCount: state.totalCount + 1    \n    } \n}\n\nconst cart = (state = initialState, action) => {\n  const { items } = state;\n  const { type, payload } = action;\n\n  switch (type) {\n    case ADD_TO_CART:\n      return updateItems(state, payload)\n    case REMOVE_ITEM:\n      return updateItems(state, payload)\n    case RESET_CART_LIST:\n      return {\n        ...state,\n        totalPrice: 0,\n        totalCount: 0,\n        items: [],\n      };\n    case INCREASE_COUNT:\n      return updateItems(state, payload)\n    case DECREASE_COUNT:\n      return updateItems(state, payload)\n    case GET_ITEMS:\n      return updateItems(state, payload)\n    default:\n      return state;\n  }\n};\nexport default cart;\n"]},"metadata":{},"sourceType":"module"}