{"ast":null,"code":"var _jsxFileName = \"/Users/sonjong-il/Desktop/wecode/12-AIG-frontend/src/pages/Cart/Cart.js\";\nimport React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport CartItem from \"./components/CartItem\";\nimport PriceContainer from \"./components/PriceContainer\";\nexport default function Cart() {\n  const [cart, setCart] = useState();\n  const [totalPrice, setTotalPrice] = useState(0);\n  useEffect(() => {\n    const fetchData = async () => {\n      const result = await fetch(`/Data/cart-Data.json`);\n      const json = await result.json();\n      setCart(json.data);\n    };\n\n    fetchData();\n  }, []);\n  useEffect(() => {\n    // eslint-disable-next-line no-unused-expressions\n    const price = cart === null || cart === void 0 ? void 0 : cart.products.reduce((accumulator, item) => {\n      return accumulator + item.price * item.count;\n    }, 0);\n    setTotalPrice(price);\n  }, [cart]);\n\n  const decreaseCount = i => {\n    const cartList = { ...cart\n    };\n\n    if (cartList.products[i].count !== 1) {\n      const updateCart = {\n        \"id\": cart.products[i].id,\n        \"title\": cart.products[i].title,\n        \"count\": cart.products[i].count - 1,\n        \"price\": cart.products[i].price,\n        \"size\": cart.products[i].size,\n        \"color\": cart.products[i].color,\n        \"serial_num\": cart.products[i].serial_num,\n        \"main_image\": cart.products[i].main_image\n      };\n      cartList.products[i] = updateCart;\n      setCart(cartList);\n    } else {\n      const cartList = { ...cart\n      };\n      const updateCart = cartList.products.filter(item => item.id !== cart.products[i].id);\n      console.log(updateCart); // setCart(updateCart)\n      // setCart(cartList.products.filter(item => item.id !== cart.products[i].id))\n    } // console.log(cartList.products[i].count)\n\n  };\n\n  const increaseCount = i => {\n    const cartList = { ...cart\n    };\n    const updateCart = {\n      \"id\": cart.products[i].id,\n      \"title\": cart.products[i].title,\n      \"count\": cart.products[i].count + 1,\n      \"price\": cart.products[i].price,\n      \"size\": cart.products[i].size,\n      \"color\": cart.products[i].color,\n      \"serial_num\": cart.products[i].serial_num,\n      \"main_image\": cart.products[i].main_image\n    };\n    cartList.products[i] = updateCart;\n    setCart(cartList);\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Nav, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, \"\\uC9C4\\uD76C Nav\")), /*#__PURE__*/React.createElement(Section, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CartContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }\n  }, \"Shopping bag\"), cart === null || cart === void 0 ? void 0 : cart.products.map((item, i) => {\n    return /*#__PURE__*/React.createElement(CartItem, {\n      cart: cart,\n      i: i,\n      item: item,\n      decreaseCount: decreaseCount,\n      increaseCount: increaseCount,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 15\n      }\n    });\n  })), /*#__PURE__*/React.createElement(PriceContainer, {\n    totalPrice: totalPrice,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  })));\n}\nconst Nav = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 60px;\n  background-color: yellow;\n  text-align: center;\n  span {\n    font-size: 40px;\n  }\n`;\nconst Section = styled.section`\n  display: flex;\n  justify-content: center;\n  max-width: 1000px;\n  margin: 0 auto;\n`;\nconst CartContainer = styled.div`\n  margin-right: 40px;\n  width: calc(66.66% - 20px);\n  border-bottom: 2px solid black;\n  margin-bottom: 100px;\n  height: 100%;\n  h2 {\n    margin-top: 20px;\n    padding-bottom: 13px;\n    font-size: 20px;\n    border-bottom: 2px solid black;\n  }\n`;","map":{"version":3,"sources":["/Users/sonjong-il/Desktop/wecode/12-AIG-frontend/src/pages/Cart/Cart.js"],"names":["React","useState","useEffect","styled","CartItem","PriceContainer","Cart","cart","setCart","totalPrice","setTotalPrice","fetchData","result","fetch","json","data","price","products","reduce","accumulator","item","count","decreaseCount","i","cartList","updateCart","id","title","size","color","serial_num","main_image","filter","console","log","increaseCount","map","Nav","div","Section","section","CartContainer"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport CartItem from \"./components/CartItem\";\nimport PriceContainer from \"./components/PriceContainer\";\n\n\nexport default function Cart() {\n  const [cart, setCart] = useState();\n\n  const [totalPrice, setTotalPrice] = useState(0);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const result = await fetch(`/Data/cart-Data.json`);\n      const json = await result.json();\n      setCart(json.data);\n    };\n    fetchData();\n  }, []);\n\n  useEffect(() => {\n    // eslint-disable-next-line no-unused-expressions\n    const price = cart?.products.reduce((accumulator, item) => {\n      return accumulator + item.price * item.count;\n    }, 0);\n    setTotalPrice(price);\n  }, [cart]);\n\n  const decreaseCount = (i) => {\n    const cartList = {...cart};\n    if(cartList.products[i].count !== 1){\n      const updateCart = {\n        \"id\": cart.products[i].id,\n        \"title\": cart.products[i].title,\n        \"count\": cart.products[i].count -1,\n        \"price\": cart.products[i].price,\n        \"size\": cart.products[i].size,\n        \"color\": cart.products[i].color,\n        \"serial_num\": cart.products[i].serial_num,\n        \"main_image\": cart.products[i].main_image\n      }\n      cartList.products[i] = updateCart\n      setCart(cartList)\n    }\n    else {\n      const cartList = {...cart};\n     const updateCart  =cartList.products.filter(item => item.id !== cart.products[i].id)\n      console.log(updateCart)\n      // setCart(updateCart)\n      // setCart(cartList.products.filter(item => item.id !== cart.products[i].id))\n    }\n    // console.log(cartList.products[i].count)\n  }\n\n  const increaseCount = (i) => {\n    const cartList = {...cart};\n    const updateCart = {\n      \"id\": cart.products[i].id,\n      \"title\": cart.products[i].title,\n      \"count\": cart.products[i].count +1,\n      \"price\": cart.products[i].price,\n      \"size\": cart.products[i].size,\n      \"color\": cart.products[i].color,\n      \"serial_num\": cart.products[i].serial_num,\n      \"main_image\": cart.products[i].main_image\n    }\n    cartList.products[i] = updateCart\n    setCart(cartList)\n  }\n\n  return (\n    <>\n      <Nav>\n        <span>진희 Nav</span>\n      </Nav>\n      <Section>\n        <CartContainer>\n          <h2>Shopping bag</h2>\n          {cart?.products.map((item, i) => {\n            return (\n              <CartItem \n              cart={cart} \n              i={i} \n              item={item} \n              decreaseCount={decreaseCount} \n              increaseCount={increaseCount}\n              />\n            );\n          })}\n        </CartContainer>\n        <PriceContainer totalPrice={totalPrice}/>\n      </Section>\n    </>\n  );\n}\n\nconst Nav = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 60px;\n  background-color: yellow;\n  text-align: center;\n  span {\n    font-size: 40px;\n  }\n`;\n\nconst Section = styled.section`\n  display: flex;\n  justify-content: center;\n  max-width: 1000px;\n  margin: 0 auto;\n`;\n\nconst CartContainer = styled.div`\n  margin-right: 40px;\n  width: calc(66.66% - 20px);\n  border-bottom: 2px solid black;\n  margin-bottom: 100px;\n  height: 100%;\n  h2 {\n    margin-top: 20px;\n    padding-bottom: 13px;\n    font-size: 20px;\n    border-bottom: 2px solid black;\n  }\n`;\n"]},"metadata":{},"sourceType":"module"}