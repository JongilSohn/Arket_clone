{"ast":null,"code":"const ADD_TO_CART = 'cart/ADD_TO_CART';\nconst REMOVE_ITEM = 'cart/REMOVE_ITEM';\nconst RESET_CART_LIST = 'cart/RESET_CART_LIST';\nconst INCREASE_COUNT = 'cart/INCREASE_COUNT';\nconst DECREASE_COUNT = 'cart/DECREASE_COUNT';\nconst SET_TOTAL = 'cart/SET_TOTAL';\nconst GET_ITEMS = 'cart/GET_ITEMS';\nexport const addToCart = item => ({\n  type: ADD_TO_CART,\n  payload: item\n});\nexport const removeItem = items => ({\n  type: REMOVE_ITEM,\n  payload: items\n});\nexport const resetCartList = () => ({\n  type: RESET_CART_LIST\n});\nexport const increaseCount = items => ({\n  type: INCREASE_COUNT,\n  payload: items\n});\nexport const decreaseCount = items => ({\n  type: DECREASE_COUNT,\n  payload: items\n});\nexport const setTotal = () => ({\n  type: SET_TOTAL\n});\nexport const getItems = items => ({\n  type: GET_ITEMS,\n  payload: items\n});\nconst initialState = {\n  totalPrice: 0,\n  totalCount: 0,\n  items: []\n};\n\nconst cart = (state = initialState, {\n  type,\n  payload\n}) => {\n  switch (type) {\n    case ADD_TO_CART:\n      return updateItems(state, payload);\n\n    case REMOVE_ITEM:\n      return updateItems(state, payload);\n\n    case RESET_CART_LIST:\n      return { ...state,\n        totalPrice: 0,\n        totalCount: 0,\n        items: []\n      };\n\n    case INCREASE_COUNT:\n      return updateItems(state, payload);\n\n    case DECREASE_COUNT:\n      return updateItems(state, payload);\n\n    case GET_ITEMS:\n      return updateItems(state, payload);\n\n    default:\n      return state;\n  }\n};\n\nconst updateItems = (state, payload) => {\n  const {\n    items\n  } = state;\n  const isArray = Array.isArray(payload);\n  return isArray ? { ...state,\n    items: [...payload],\n    totalCount: payload.reduce((acc, {\n      count\n    }) => acc + count, 0),\n    totalPrice: payload.reduce((acc, {\n      count,\n      price\n    }) => acc + count * price, 0)\n  } : { ...state,\n    items: checkCartItems(items, payload),\n    totalCount: state.totalCount + 1\n  };\n};\n\nconst checkCartItems = (items, payload) => {\n  const isAddedToCart = items.find(item => item.id === payload.id);\n\n  const AddedItem = item => item.id === payload.id ? { ...item,\n    count: item.count + 1\n  } : item;\n\n  return isAddedToCart ? items.map(AddedItem) : [...items, payload];\n};\n\nexport default cart;","map":{"version":3,"sources":["/Users/sonjong-il/Desktop/wecode/12-AIG-frontend/src/modules/cart.js"],"names":["ADD_TO_CART","REMOVE_ITEM","RESET_CART_LIST","INCREASE_COUNT","DECREASE_COUNT","SET_TOTAL","GET_ITEMS","addToCart","item","type","payload","removeItem","items","resetCartList","increaseCount","decreaseCount","setTotal","getItems","initialState","totalPrice","totalCount","cart","state","updateItems","isArray","Array","reduce","acc","count","price","checkCartItems","isAddedToCart","find","id","AddedItem","map"],"mappings":"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","sourcesContent":["const ADD_TO_CART = 'cart/ADD_TO_CART';\nconst REMOVE_ITEM = 'cart/REMOVE_ITEM';\nconst RESET_CART_LIST = 'cart/RESET_CART_LIST';\nconst INCREASE_COUNT = 'cart/INCREASE_COUNT';\nconst DECREASE_COUNT = 'cart/DECREASE_COUNT';\nconst SET_TOTAL = 'cart/SET_TOTAL';\nconst GET_ITEMS = 'cart/GET_ITEMS';\n\nexport const addToCart = (item) => ({\n  type: ADD_TO_CART,\n  payload: item,\n});\n\nexport const removeItem = (items) => ({\n  type: REMOVE_ITEM,\n  payload: items,\n});\n\nexport const resetCartList = () => ({\n  type: RESET_CART_LIST,\n});\n\nexport const increaseCount = (items) => ({\n  type: INCREASE_COUNT,\n  payload: items,\n});\n\nexport const decreaseCount = (items) => ({\n  type: DECREASE_COUNT,\n  payload: items,\n});\n\nexport const setTotal = () => ({\n  type: SET_TOTAL,\n});\n\nexport const getItems = (items) => ({\n  type: GET_ITEMS,\n  payload: items,\n});\n\nconst initialState = {\n  totalPrice: 0,\n  totalCount: 0,\n  items: [],\n};\n\nconst cart = (state = initialState, { type, payload }) => {\n  switch (type) {\n    case ADD_TO_CART:\n      return updateItems(state, payload)\n    case REMOVE_ITEM:\n      return updateItems(state, payload)\n    case RESET_CART_LIST:\n      return {\n        ...state,\n        totalPrice: 0,\n        totalCount: 0,\n        items: [],\n      };\n    case INCREASE_COUNT:\n      return updateItems(state, payload)\n    case DECREASE_COUNT:\n      return updateItems(state, payload)\n    case GET_ITEMS:\n      return updateItems(state, payload)\n    default:\n      return state;\n  }\n};\n\nconst updateItems = (state, payload) => {\n  const { items } = state;\n  const isArray = Array.isArray(payload)\n\n  return isArray ? {\n      ...state,\n      items: [...payload],\n      totalCount: payload.reduce((acc, { count }) => acc + count, 0),\n      totalPrice: payload.reduce(\n        (acc, { count, price }) => acc + count * price,\n        0\n      ),\n    }\n    : {\n      ...state,\n      items: checkCartItems(items, payload),\n      totalCount: state.totalCount + 1    \n    } \n}\n\nconst checkCartItems = (items, payload) => {\n  const isAddedToCart = items.find((item) => item.id === payload.id);\n  const AddedItem = (item) =>\n    item.id === payload.id ? { ...item, count: item.count + 1 } : item;\n\n  return isAddedToCart ? items.map(AddedItem) : [...items, payload];\n};\n\nexport default cart;\n"]},"metadata":{},"sourceType":"module"}